# Основы компьютерных сетей: от теории к практике

---

## Содержание

1. [Глобальные и локальные сети](#1-глобальные-и-локальные-сети)
2. [Белые и серые IP-адреса](#2-белые-и-серые-ip-адреса)
3. [NAT (Network Address Translation)](#3-nat-network-address-translation)
4. [DHCP-сервер и подсети](#4-dhcp-сервер-и-подсети)
5. [Устройства маршрутизации сети](#5-устройства-маршрутизации-сети)
6. [Протоколы прикладного уровня](#6-протоколы-прикладного-уровня)
   - [HTTP/HTTPS](#httphttps-основа-веб-коммуникаций)
   - [DNS](#dns-система-доменных-имен)
   - [Электронная почта](#электронная-почта-smtp-pop3-imap)
   - [FTP](#ftp-file-transfer-protocol)
   - [SSH](#ssh-secure-shell)
7. [Безопасность сетей и брандмауэры](#7-безопасность-сетей-и-брандмауэры)
   - [Основы сетевой безопасности](#основы-сетевой-безопасности)
   - [Типы брандмауэров](#типы-брандмауэров)
   - [Брандмауэры в Linux](#брандмауэры-в-linux-iptables-и-nftables)
   - [WAF](#waf-web-application-firewall)
8. [Основные команды для анализа сети](#8-основные-команды-для-анализа-сети)
9. [Транспортные протоколы TCP и UDP](#9-транспортные-протоколы-tcp-и-udp)
10. [SSL/TLS: криптография для защиты данных](#10-ssltls-криптография-для-защиты-данных)
   - [Что такое SSL и TLS](#что-такое-ssl-и-tls)
   - [Процесс TLS Handshake](#как-работает-tls-процесс-установления-защищенного-соединения)
   - [Типы шифрования](#типы-шифрования-в-tls)
   - [Настройка TLS](#настройка-tls-на-сервере)
   - [Проверка конфигурации](#проверка-и-тестирование-конфигурации-tls)
11. [Заключение](#заключение)

---

## 1. Глобальные и локальные сети

Весь интернет подразделяется на два основных типа сетей:

* **Глобальная сеть (WAN — Wide Area Network)** — охватывает большие территории, часто на уровне стран или континентов. Это сеть интернет-провайдеров, объединенных между собой.
* **Локальная сеть (LAN — Local Area Network)** — объединяет устройства в пределах одного здания, офиса или квартиры.

### Как это работает в реальности?

Все ваши устройства (компьютеры, смартфоны, принтеры, телевизоры и т.д.) подключаются к роутеру, который объединяет их в локальную сеть. Участники одной LAN могут обмениваться данными между собой без подключения к интернету.

**Для выхода в глобальную сеть (интернет)** необходим доступ через интернет-провайдера, за который мы платим абонентскую плату. Провайдер подключает нас к своей инфраструктуре с помощью витой пары или оптоволокна.

#### Аналогия с дорогами:
- Дороги вашего города = локальная сеть (LAN)
- Федеральная трасса = глобальная сеть (WAN)

Для визуализации представьте следующую схему:

```
[Интернет (WAN)]
       |
[Роутер провайдера]
       |
[Ваш роутер]
       |
[Компьютер] — [Смартфон] — [Принтер] — [Телевизор]
       |
   [Локальная сеть (LAN)]
```

---

## 2. Белые и серые IP-адреса

Каждое устройство в сети имеет уникальный IP-адрес, который служит его "адресом" для передачи данных.

### Типы IP-адресов:

- **Серые IP-адреса (приватные)** — используются внутри локальных сетей
- **Белые IP-адреса (публичные)** — используются в глобальном интернете

### Диапазоны приватных IP-адресов:

| Класс сети | Диапазон адресов | Маска подсети |
|------------|------------------|---------------|
| Class A    | 10.0.0.0 — 10.255.255.255 | 255.0.0.0 (/8) |
| Class B    | 172.16.0.0 — 172.31.255.255 | 255.255.0.0 (/16) |
| Class C    | 192.168.0.0 — 192.168.255.255 | 255.255.255.0 (/24) |

#### Почему 192.168.X.X самый распространенный?

Этот диапазон идеально подходит для домашних и небольших офисных сетей, предоставляя до 254 уникальных адресов (192.168.0.1 — 192.168.0.254).

#### Как узнать свой локальный IP-адрес (Windows):

```cmd
ipconfig
```

**Пример вывода:**

```
Беспроводной LAN-адаптер Беспроводная сеть:
   IPv4-адрес. . . . . . . . . . . : 192.168.88.251
```

### Принцип работы в реальных сетях

Современные сети часто используют двойную трансляцию адресов из-за нехватки IPv4-адресов. На схеме ниже показан пример такой конфигурации:

```
[Интернет]
       |
[Провайдер]
       | (публичный IP: 91.132.25.108)
[Роутер провайдера]
       | (приватный IP: 172.17.135.11)
[Ваш роутер]
       | (приватные IP: 192.168.1.0/24)
[Ваши устройства]
```

#### Как проверить свой публичный IP-адрес:

Посетите сайт [2ip.ru](https://2ip.ru) или выполните команду:

```cmd
curl ifconfig.me
```

### Почему это важно?

В настоящее время остро стоит проблема нехватки публичных IP-адресов. Поэтому провайдеры часто выдают пользователям приватные IP-адреса в рамках своей локальной сети и объединяют несколько клиентов под одним публичным IP.

**Для домашнего использования** это обычно не критично.

**Для корпоративного использования** рекомендуется приобретать выделенный публичный IP-адрес у провайдера, так как приватные IP создают проблемы:

- С ip-телефонией (SIP-регистрация, односторонняя слышимость)
- С настройкой VPN-соединений
- С доступом к локальным серверам извне

---

## 3. NAT (Network Address Translation)

NAT — механизм преобразования IP-адресов, решающий проблему нехватки публичных IP-адресов.

### Как работает NAT:

#### Сценарий 1: Вы имеете публичный IP-адрес

```
[ПК1: 192.168.1.3] → [Ваш роутер с NAT] → [Интернет: 91.105.8.10]
```

Когда ПК1 запрашивает данные из интернета, роутер заменяет внутренний IP на публичный и отслеживает соединение для правильной передачи ответа.

#### Сценарий 2: У вас приватный IP-адрес от провайдера

```
[ПК1: 192.168.1.3] → [Ваш роутер с NAT] → [172.17.115.3] → 
[Роутер провайдера с NAT] → [Интернет: 91.105.108.10]
```

В этом случае используется двойной NAT. Это повышает безопасность, но создает проблемы для:

- IP-телефонии
- Онлайн-игр
- P2P-соединений
- Серверных приложений

В следующей статье мы подробнее рассмотрим виды NAT, выделение портов и сокеты.

---

## 4. DHCP-сервер и подсети

### Что такое DHCP?

DHCP (Dynamic Host Configuration Protocol) — протокол автоматической раздачи IP-адресов в сети. Каждый роутер содержит встроенный DHCP-сервер.

**Динамические IP-адреса** могут меняться при перезагрузке устройства или роутера. Например, сегодня ваш компьютер может иметь адрес 192.168.1.10, а завтра после перезагрузки — 192.168.1.35.

**Статические IP-адреса** можно настроить:

- На самом устройстве (компьютере, принтере)
- На роутере (привязка MAC-адреса к фиксированному IP)

### Подсети

DHCP-сервер можно настроить для работы с несколькими подсетями. Это необходимо в крупных организациях для:

- Разделения трафика
- Повышения безопасности
- Оптимизации производительности

#### Пример разделения на подсети:

- **Компьютеры:** 192.168.0.2 — 192.168.0.255
- **Принтеры:** 192.168.1.2 — 192.168.1.255
- **Wi-Fi устройства:** 192.168.5.2 — 192.168.5.255

**Важное замечание:** Устройства из разных подсетей не могут напрямую взаимодействовать друг с другом. Например, с компьютера 10.10.5.2 нельзя получить доступ к веб-интерфейсу IP-телефона 192.168.1.3 без настройки маршрутизации между подсетями.

---

## 5. Устройства маршрутизации сети

### Роутер/маршрутизатор/сетевой шлюз

Это одно и то же устройство — основной компонент сети.

**Функции:**

- Маршрутизация трафика между сетями
- Выдача IP-адресов через DHCP
- NAT-трансляция
- Фильтрация трафика (брандмауэр)

**Важно:** Маршрутизатором может быть не только специализированное устройство, но и обычный компьютер с двумя сетевыми картами и специальным ПО (например, RouterOS MikroTik).

### Коммутатор/свитч

Это тоже синонимы. Коммутатор служит для расширения локальной сети.

**Функции:**

- Объединение множества устройств в одну сеть
- Интеллектуальная передача данных (использует MAC-таблицу)

**Важное отличие от роутера:** Коммутатор не может выдать IP-адреса и не умеет выходить в интернет без роутера.

**Практическое применение:** Если у вас больше устройств, чем портов на роутере (обычно 4-5), подключите к одному порту коммутатор на 24 порта.

Совет: Если у вас есть лишний роутер, его можно перевести в режим коммутатора.

### Хаб (концентратор)

Устаревшее устройство с функциями, похожими на коммутатор, но с критическими отличиями:

- **Хаб:** Передает все входящие данные всем подключенным устройствам (как радио)
- **Коммутатор:** Передает данные только конкретному устройству, используя MAC-таблицу

Хабы практически не используются в современных сетях из-за низкой производительности и отсутствия безопасности.

---

## 8. Основные команды для анализа сети

### Ping - проверка доступности

#### Базовое использование:

```cmd
ping 8.8.8.8
```

#### Полезные параметры:

- `-t` — непрерывный пинг (остановить: Ctrl+C)
- `-a` — отображать имя узла
- `-n` — количество запросов (например, `-n 10`)

#### Пример:

```cmd
ping -t -a 8.8.8.8
```

**Важно:** Некоторые устройства могут не отвечать на ping из соображений безопасности, при этом быть полностью рабочими.

### Tracert/traceroute - трассировка пути

Показывает путь, по которому пакеты идут до целевого узла.

**Windows:**
```cmd
tracert ya.ru
```

**Linux/Mac:**
```bash
traceroute ya.ru
```

**Практическое применение:** Помогает найти точку обрыва соединения или выявить проблемные узлы на пути.

### Whois - информация об IP или домене

Показывает подробную информацию об IP-адресе или домене:

- Владелец
- Страна и город
- Диапазон адресов
- Контакты администраторов

**Linux/Mac:**
```bash
whois 145.255.1.71
```

**Windows:** Используйте онлайн-сервисы или установите специальные утилиты.

---

## 9. Транспортные протоколы TCP и UDP

Эти протоколы работают на транспортном уровне модели OSI и определяют, как данные передаются между устройствами.

### TCP (Transmission Control Protocol)

**Ключевые особенности:**

- Гарантированная доставка данных
- Проверка целостности пакетов
- Повторная отправка потерянных пакетов
- Управление потоком и перегрузками

**Где используется:**

- Веб-сайты (HTTP/HTTPS)
- Электронная почта (SMTP, POP3, IMAP)
- Файловые передачи (FTP)
- Базы данных

### UDP (User Datagram Protocol)

**Ключевые особенности:**

- Минимальная задержка
- Отсутствие гарантии доставки
- Нет повторной отправки при потере пакетов
- Минимальные накладные расходы

**Где используется:**

- VoIP (Skype, WhatsApp голосовые вызовы)
- Видеоконференции (Zoom, Teams)
- Онлайн-игры
- DNS-запросы
- Стриминговое видео

### Сравнение TCP и UDP:

| Параметр       | TCP | UDP |
|----------------|-----|-----|
| Надежность     | Высокая | Низкая |
| Скорость       | Медленнее | Быстрее |
| Гарантия доставки | Да | Нет |
| Повторная отправка | Да | Нет |
| Упорядоченность пакетов | Да | Нет |
| Перегрузка сети | Адаптируется | Игнорирует |

---

## 6. Протоколы прикладного уровня

### HTTP/HTTPS: основа веб-коммуникаций

#### История развития HTTP

**HTTP (Hypertext Transfer Protocol)** — это протокол прикладного уровня для передачи гипертекстовых документов, который является основой коммуникации в Вебе. Разработанный в 1989 году Тимом Бернерсом-Ли, он прошел несколько эволюционных этапов:

- **HTTP/0.9 (1991)** — самая первая версия, поддерживала только метод GET и передачу HTML-документов
- **HTTP/1.0 (1996, RFC 1945)** — добавлены методы запросов (POST, HEAD), заголовки, коды состояния
- **HTTP/1.1 (1997, RFC 2068, позже RFC 2616, RFC 7230-7235)** — введены постоянные соединения, chunked transfer encoding, виртуальные хосты
- **HTTP/2 (2015, RFC 7540)** — двоичный протокол с мультиплексированием, сжатием заголовков, приоритезацией
- **HTTP/3 (2022, RFC 9114)** — основан на QUIC вместо TCP, работает поверх UDP

#### Структура HTTP-запроса и ответа

**HTTP-запрос состоит из трех частей:**
1. **Стартовая строка** — содержит метод запроса, путь к ресурсу и версию протокола
   ```
   GET /index.html HTTP/1.1
   ```
2. **Заголовки** — ключ-значение, разделенные двоеточием
   ```
   Host: example.com
   User-Agent: Mozilla/5.0
   Accept: text/html
   ```
3. **Тело запроса** (опционально) — данные, отправляемые на сервер (например, при POST-запросе)

**HTTP-ответ также имеет три части:**
1. **Стартовая строка** — версия протокола, код состояния и текстовое описание
   ```
   HTTP/1.1 200 OK
   ```
2. **Заголовки** — метаданные ответа
   ```
   Content-Type: text/html
   Content-Length: 1234
   Set-Cookie: session_id=abc123
   ```
3. **Тело ответа** — запрошенный контент (HTML, JSON, изображение и т.д.)

#### Коды состояния HTTP

Коды состояния HTTP разделены на пять классов:

- **1xx (информационные)** — запрос принят и обрабатывается
  - 100 Continue — сервер готов принять тело запроса
  - 101 Switching Protocols — согласие на смену протокола (например, для WebSockets)

- **2xx (успешные)** — запрос успешно обработан
  - 200 OK — успешный ответ
  - 201 Created — ресурс успешно создан
  - 204 No Content — запрос успешен, но ответ не содержит тела

- **3xx (перенаправления)** — требуется дополнительное действие
  - 301 Moved Permanently — ресурс перемещен навсегда
  - 302 Found — временно перемещен (ранее назывался Moved Temporarily)
  - 304 Not Modified — ресурс не изменен, можно использовать кеш

- **4xx (ошибки клиента)** — запрос содержит ошибку
  - 400 Bad Request — неверный синтаксис запроса
  - 401 Unauthorized — требуется аутентификация
  - 403 Forbidden — доступ запрещен
  - 404 Not Found — ресурс не найден
  - 429 Too Many Requests — превышено ограничение на количество запросов

- **5xx (ошибки сервера)** — сервер не смог выполнить запрос
  - 500 Internal Server Error — внутренняя ошибка сервера
  - 502 Bad Gateway — сервер получил недопустимый ответ от вышестоящего сервера
  - 503 Service Unavailable — сервер временно недоступен
  - 504 Gateway Timeout — таймаут ответа от вышестоящего сервера

#### HTTP/2: революция в веб-производительности

HTTP/2 внес значительные изменения по сравнению с HTTP/1.1:

**Ключевые особенности HTTP/2:**
- **Двоичное кодирование** — вместо текстовых сообщений используется бинарный формат, что уменьшает размер и ускоряет обработку
- **Мультиплексирование** — несколько потоков могут передаваться по одному TCP-соединению одновременно
- **Сжатие заголовков (HPACK)** — снижает избыточность передаваемых заголовков
- **Приоритезация потоков** — возможность задавать приоритеты для разных ресурсов
- **Server Push** — сервер может отправлять ресурсы клиенту до того, как клиент их запросит

**Преимущества перед HTTP/1.1:**
- Устранение блокировки на уровне очереди запросов
- Снижение задержек для медленных сетей
- Лучшее использование пропускной способности сети
- Уменьшение потребления энергии на мобильных устройствах

#### HTTP/3: будущее веба

HTTP/3 — следующая эволюция веб-протокола, решающая фундаментальные проблемы TCP:

**Проблемы TCP, которые решает HTTP/3:**
- **Head-of-line blocking** — если один пакет теряется, все последующие пакеты в том же соединении задерживаются
- **Ручной процесс установления соединения** — требует нескольких RTT (round-trip times)
- **Несовместимость с мобильными сетями** — перемещение между сетями прерывает TCP-соединение

**Основа HTTP/3 — QUIC (Quick UDP Internet Connections):**
- Работает поверх UDP вместо TCP
- Встроенный TLS 1.3 для безопасности
- Независимые потоки — потеря пакета в одном потоке не влияет на другие
- Быстрое восстановление соединения при смене IP (например, при переходе с Wi-Fi на мобильную сеть)

**Структура QUIC-соединения:**
- Уровень пакетов — обработка потерь, управления перегрузками
- Уровень потоков — независимые потоки данных
- Уровень криптографии — TLS-шифрование
- Уровень приложения — HTTP/3, WebTransport и другие

### DNS: система доменных имен

#### Архитектура DNS

**DNS (Domain Name System)** — распределенная база данных, преобразующая доменные имена в IP-адреса. DNS организована иерархически:

1. **Корневые серверы (Root Servers)** — 13 основных корневых серверов (обозначаются буквами A-M)
2. **TLD-серверы (Top-Level Domain)** — серверы доменов верхнего уровня (.com, .org, .ru и т.д.)
3. **Авторитетные серверы** — серверы, содержащие информацию о конкретных доменах
4. **Рекурсивные резолверы** — серверы, которые выполняют запросы от имени клиентов

#### Процесс разрешения DNS-имени

Рассмотрим процесс получения IP-адреса для example.com:

1. **Клиент проверяет локальный кеш** — операционная система и браузер хранят недавние DNS-запросы
2. **Запрос к рекурсивному резолверу** — обычно это сервер провайдера или публичный DNS (Google DNS 8.8.8.8, Cloudflare DNS 1.1.1.1)
3. **Рекурсивный резолвер проверяет свой кеш** — если запись есть и не истек срок TTL (Time To Live), возвращается результат
4. **Запрос к корневым серверам** — если записи нет в кеше, резолвер спрашивает корневые серверы о серверах TLD для .com
5. **Запрос к TLD-серверам** — корневые серверы направляют к TLD-серверам .com
6. **Запрос к авторитетным серверам** — TLD-серверы указывают на авторитетные серверы для example.com
7. **Получение IP-адреса** — авторитетные серверы возвращают IP-адрес example.com
8. **Кэширование результата** — резолвер кэширует результат для будущих запросов

#### Типы DNS-записей

- **A (Address)** — преобразует доменное имя в IPv4-адрес (example.com → 93.184.216.34)
- **AAAA (Quad-A)** — преобразует доменное имя в IPv6-адрес (example.com → 2606:2800:220:1:248:1893:25c8:1946)
- **CNAME (Canonical Name)** — указывает, что домен является алиасом другого домена (www.example.com → example.com)
- **MX (Mail Exchange)** — указывает почтовые серверы для домена (example.com → mail.example.com)
- **TXT (Text)** — текстовые записи для различных целей (верификация домена, SPF, DKIM)
- **NS (Name Server)** — авторитетные серверы для домена
- **SOA (Start of Authority)** — информация о зоне (первичный сервер, администратор, серийный номер)
- **SRV (Service)** — указывает серверы для специфических сервисов (например, для SIP, XMPP)
- **PTR (Pointer)** — обратная запись для преобразования IP в доменное имя (используется в rDNS)

#### Безопасность DNS

**DNSSEC (DNS Security Extensions)** — расширение DNS для защиты от подделки ответов:
- Использует цифровые подписи (RSA или ECDSA) для аутентификации данных
- Обеспечивает целостность данных и аутентификацию источника
- Работает по принципу доверенной цепочки (chain of trust)
- Не обеспечивает конфиденциальность (данные передаются открыто)

**DoH (DNS over HTTPS) и DoT (DNS over TLS)** — защищенные протоколы для DNS:
- **DoH** — DNS-запросы передаются через HTTPS, что делает их неотличимыми от обычного веб-трафика
- **DoT** — DNS-запросы шифруются через TLS, но используют отдельный порт (853)
- Оба протокола защищают от прослушивания и подмены DNS-запросов
- Широко поддерживаются в современных браузерах и операционных системах

### Электронная почта: SMTP, POP3, IMAP

#### Архитектура электронной почты

Система электронной почты состоит из нескольких компонентов:
- **Почтовые серверы (MTA — Mail Transfer Agent)** — серверы, которые получают, хранят и пересылают почту
- **Почтовые клиенты (MUA — Mail User Agent)** — программы, которые пользователи используют для чтения и отправки почты
- **Протоколы передачи** — SMTP, POP3, IMAP
- **Системы фильтрации** — антиспам, антивирусы, DKIM, SPF, DMARC

#### SMTP (Simple Mail Transfer Protocol)

**SMTP (RFC 5321)** — протокол для отправки почты между серверами и от клиента к серверу.

**Процесс отправки почты:**
1. **Установление соединения** — клиент подключается к серверу на порт 25 (обычно), 465 (SMTPS) или 587 (Submission)
2. **Приветствие (HELO/EHLO)** — клиент представляется серверу
   ```
   EHLO client.example.com
   ```
3. **Аутентификация (опционально)** — если требуется
   ```
   AUTH LOGIN
   ```
4. **Указание отправителя (MAIL FROM)** 
   ```
   MAIL FROM:<sender@example.com>
   ```
5. **Указание получателей (RCPT TO)** — может быть несколько команд
   ```
   RCPT TO:<recipient@example.com>
   ```
6. **Передача данных (DATA)** — начало передачи тела письма
   ```
   DATA
   ```
7. **Тело письма** — заголовки и содержимое, завершается строкой с одной точкой
   ```
   From: sender@example.com
   To: recipient@example.com
   Subject: Hello
   
   This is a test message.
   .
   ```
8. **Завершение (QUIT)**
   ```
   QUIT
   ```

**Безопасные версии SMTP:**
- **SMTPS (SMTP Secure)** — SMTP поверх SSL/TLS (порт 465)
- **Submission (RFC 6409)** — стандарт для отправки почты клиентами (порт 587 с STARTTLS)

#### POP3 (Post Office Protocol v3)

**POP3 (RFC 1939)** — протокол для получения почты с сервера.

**Особенности POP3:**
- Обычно удаляет письма с сервера после загрузки (можно настроить сохранение)
- Поддерживает только одну папку (Inbox)
- Простой в реализации и использовании
- Работает по принципу "скачать и удалить"

**Команды POP3:**
- `USER username` — указание имени пользователя
- `PASS password` — указание пароля
- `STAT` — статус почтового ящика (кол-во писем, размер)
- `LIST [msg]` — список писем
- `RETR msg` — получение письма
- `DELE msg` — пометка письма на удаление
- `QUIT` — выход (удаление помеченных писем)

#### IMAP (Internet Message Access Protocol)

**IMAP (RFC 3501)** — современный протокол для работы с почтой.

**Преимущества IMAP перед POP3:**
- Почта остается на сервере
- Поддержка нескольких папок и иерархической структуры
- Возможность работы с письмами без полной загрузки (просмотр заголовков)
- Синхронизация состояния между устройствами (прочитанные/непрочитанные флаги)
- Поиск по содержимому писем на сервере

**Режимы работы IMAP:**
- **Online mode** — все операции выполняются на сервере
- **Disconnected mode** — работа с локальной копией, синхронизация при подключении
- **Semi-connected mode** — гибридный режим

**Команды IMAP:**
- `LOGIN username password` — аутентификация
- `SELECT mailbox` — выбор почтового ящика
- `FETCH message data` — получение данных письма
- `STORE message flags` — изменение флагов письма
- `SEARCH criteria` — поиск писем
- `COPY message mailbox` — копирование письма
- `EXPUNGE` — удаление помеченных писем
- `LOGOUT` — выход

#### Безопасность электронной почты

**SPF (Sender Policy Framework)** — механизм, позволяющий домену указать, какие серверы имеют право отправлять почту от его имени:
- Запись SPF добавляется в DNS в виде TXT-записи
- При получении письма сервер проверяет, разрешен ли IP-адрес отправителя
- Результат: PASS, FAIL, SOFTFAIL, NEUTRAL, NONE
- Пример записи: `v=spf1 ip4:192.0.2.0/24 -all`

**DKIM (DomainKeys Identified Mail)** — цифровая подпись для аутентификации отправителя:
- Использует асимметричное шифрование
- Приватный ключ хранится на почтовом сервере
- Публичный ключ публикуется в DNS
- Подпись добавляется в заголовок письма
- Пример заголовка: `DKIM-Signature: v=1; a=rsa-sha256; d=example.com; s=selector;`

**DMARC (Domain-based Message Authentication, Reporting & Conformance)** — политика обработки писем, не прошедших проверки SPF/DKIM:
- Указывает, как обрабатывать письма с неудачной аутентификацией
- Позволяет получать отчеты о неудачных попытках отправки от имени домена
- Уровни политики: `none` (мониторинг), `quarantine` (помещение в спам), `reject` (отклонение)
- Пример записи: `v=DMARC1; p=quarantine; rua=mailto:dmarc@example.com`

### Другие протоколы прикладного уровня

#### FTP (File Transfer Protocol)

**FTP (RFC 959)** — протокол для передачи файлов.

**Режимы работы:**
- **Active mode** — сервер инициирует соединение данных к клиенту
  - Проблемы с NAT и файрволами
- **Passive mode** — клиент инициирует оба соединения
  - Стандартный режим в современных сетях

**Команды FTP:**
- `USER username` / `PASS password` — аутентификация
- `PWD` — текущая директория
- `CWD path` — смена директории
- `LIST` — список файлов
- `RETR filename` — получение файла
- `STOR filename` — отправка файла
- `QUIT` — выход

**Безопасные версии FTP:**
- **FTPS (FTP Secure)** — FTP поверх SSL/TLS
- **SFTP (SSH File Transfer Protocol)** — протокол передачи файлов поверх SSH, не связан с FTP

#### SSH (Secure Shell)

**SSH (RFC 4251-4254)** — протокол для безопасного удаленного доступа.

**Версии SSH:**
- **SSH-1** — устаревшая, небезопасная версия
- **SSH-2** — современная, безопасная версия

**Компоненты SSH:**
- **Транспортный уровень** — шифрование, целостность данных
- **Уровень аутентификации** — проверка подлинности пользователя
- **Уровень соединения** — мультиплексирование каналов

**Типы аутентификации:**
- **Парольная** — простая, но уязвимая к атакам перебора
- **Аутентификация по ключам** — использует асимметричное шифрование
- **Аутентификация с помощью сертификатов** — централизованное управление ключами

**Функции SSH:**
- Безопасный удаленный терминал
- Проброс портов (port forwarding)
- Безопасная передача файлов (SCP, SFTP)
- Агент аутентификации для управления ключами

---

## 7. Безопасность сетей и брандмауэры

### Основы сетевой безопасности

#### CIA-триада

**CIA (Confidentiality, Integrity, Availability)** — три основных принципа информационной безопасности:

1. **Конфиденциальность (Confidentiality)** — обеспечение того, что информация доступна только авторизованным пользователям
   - Шифрование данных
   - Контроль доступа
   - Сегментация сети

2. **Целостность (Integrity)** — обеспечение точности и полноты информации
   - Контрольные суммы и хеши
   - Цифровые подписи
   - Системы обнаружения вторжений

3. **Доступность (Availability)** — обеспечение доступа к информации при необходимости
   - Резервирование
   - Балансировка нагрузки
   - Защита от DDoS-атак

#### Угрозы сетевой безопасности

**Классификация угроз:**
- **Пассивные атаки** — перехват и анализ трафика без изменения данных
  - Сниффинг сетевого трафика
  - Анализ трафика для сбора информации
- **Активные атаки** — модификация данных или нарушение работы системы
  - Подмена (spoofing)
  - Отказ в обслуживании (DoS/DDoS)
  - Внедрение вредоносного кода
  - Человек посередине (MITM)

**Классификация по источникам:**
- **Внешние угрозы** — атаки извне сети
  - Хакеры, киберпреступники
  - Государственные структуры
  - Конкуренты
- **Внутренние угрозы** — атаки изнутри сети
  - Недовольные сотрудники
  - Компрометация учетных данных
  - Социальная инженерия

### Типы брандмауэров

#### Поколения брандмауэров

**1. Фильтрация пакетов (Packet Filtering)**
- Работает на сетевом уровне (IP-адреса, порты)
- Сравнивает пакеты с правилами
- Простой, но ограниченный функционал
- Пример: `iptables` в Linux

**2. Брандмауэры с отслеживанием состояния (Stateful Firewalls)**
- Отслеживают состояние соединений
- Анализируют контекст трафика
- Более эффективны против некоторых атак
- Пример: `pf` в BSD, современные `iptables` с модулем `conntrack`

**3. Брандмауэры прикладного уровня (Application Layer Firewalls)**
- Анализируют содержимое прикладного уровня
- Понимают протоколы (HTTP, FTP, SMTP)
- Могут блокировать вредоносный контент
- Пример: WAF (Web Application Firewall)

**4. Next-Generation Firewalls (NGFW)**
- Объединяют функции предыдущих поколений
- Включают IPS (Intrusion Prevention System)
- Поддерживают глубокий анализ пакетов (DPI)
- Интеграция с облачными сервисами и угрозами

#### Режимы работы брандмауэров

**1. Transparent mode (прозрачный режим)**
- Брандмауэр работает как мост (bridge)
- Не требует изменения IP-адресов
- Невидим для пользователей
- Легко внедряется в существующую инфраструктуру

**2. Routed mode (маршрутизирующий режим)**
- Брандмауэр работает как маршрутизатор
- Имеет собственные IP-адреса на интерфейсах
- Может выполнять NAT
- Требует перенастройки сети

**3. Hybrid mode (гибридный режим)**
- Комбинация прозрачного и маршрутизирующего режимов
- Разные интерфейсы могут работать в разных режимах
- Гибкость конфигурации

### Брандмауэры в Linux: iptables и nftables

#### iptables

**iptables** — фреймворк для настройки сетевой фильтрации в Linux, основанный на netfilter.

**Структура iptables:**
- **Таблицы (tables)** — группы правил для различных целей
  - `filter` — фильтрация пакетов (по умолчанию)
  - `nat` — трансляция сетевых адресов
  - `mangle` — модификация заголовков пакетов
  - `raw` — исключение из отслеживания соединений
  - `security` — маркировка SELinux

- **Цепочки (chains)** — наборы правил внутри таблиц
  - `INPUT` — пакеты, предназначенные для локального хоста
  - `OUTPUT` — пакеты, генерируемые локальным хостом
  - `FORWARD` — пакеты, проходящие через хост (роутинг)
  - `PREROUTING` — обработка перед маршрутизацией (только в nat и mangle)
  - `POSTROUTING` — обработка после маршрутизации (только в nat и mangle)

**Основные команды iptables:**
```bash
# Просмотр всех правил
iptables -L -v -n

# Очистка всех правил
iptables -F

# Блокировка всего входящего трафика
iptables -A INPUT -j DROP

# Разрешение SSH с конкретного IP
iptables -A INPUT -p tcp -s 192.168.1.100 --dport 22 -j ACCEPT

# NAT для локальной сети
iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE

# Перенаправление порта
iptables -t nat -A PREROUTING -p tcp --dport 80 -j REDIRECT --to-port 8080
```

#### nftables

**nftables** — современная замена iptables, более эффективная и гибкая.

**Преимущества nftables:**
- Единая структура для всех функций (замена iptables, ip6tables, arptables, ebtables)
- Более компактный синтаксис
- Лучшая производительность
- Встроенная поддержка множеств и словарей
- Более простая отладка

**Основные команды nftables:**
```bash
# Просмотр всех правил
nft list ruleset

# Создание таблицы
nft add table inet filter

# Создание цепочки
nft add chain inet filter input { type filter hook input priority 0 \; }

# Разрешение SSH
nft add rule inet filter input tcp dport 22 accept

# Блокировка остального трафика
nft add rule inet filter input counter drop
```

### WAF (Web Application Firewall)

#### Что такое WAF

**WAF (Web Application Firewall)** — специализированный брандмауэр для защиты веб-приложений от атак прикладного уровня.

**Атаки, защищаемые WAF:**
- SQL-инъекции (SQLi)
- Межсайтовый скриптинг (XSS)
- Межсайтовая подделка запроса (CSRF)
- Локальная/удаленная инъекция файлов (LFI/RFI)
- Атаки на пути обхода (Path Traversal)
- Брутфорс-атаки на формы входа

#### Типы WAF

**1. Сетевой WAF (Network-based WAF)**
- Устанавливается как отдельное устройство
- Высокая производительность
- Дорогостоящий
- Требует специализированного оборудования

**2. Хостовый WAF (Host-based WAF)**
- Интегрирован в веб-сервер (модуль Apache/nginx)
- Более гибкая настройка
- Меньшая производительность
- Пример: ModSecurity для Apache/nginx

**3. Облачный WAF (Cloud-based WAF)**
- Предоставляется как сервис
- Нет необходимости в установке оборудования
- Автоматические обновления правил
- Пример: Cloudflare WAF, AWS WAF

#### Модель сигнатур vs поведенческая модель

**Сигнатурная модель:**
- Сравнивает запросы с известными паттернами атак
- Низкий уровень ложных срабатываний
- Не защищает от новых (нулевых) уязвимостей
- Требует постоянного обновления базы сигнатур

**Поведенческая модель:**
- Анализирует аномальное поведение
- Защищает от неизвестных уязвимостей
- Может вызывать ложные срабатывания
- Требует машинного обучения и адаптации

**Гибридная модель:**
- Комбинация сигнатурного и поведенческого анализа
- Баланс между точностью и полнотой защиты
- Требует сложной настройки и калибровки

### Практическая настройка безопасности сетей

#### Базовая конфигурация брандмауэра

**Рекомендуемые правила для сервера:**
```bash
# Очистка существующих правил
iptables -F
iptables -X

# Установка политик по умолчанию
iptables -P INPUT DROP
iptables -P FORWARD DROP
iptables -P OUTPUT ACCEPT

# Разрешение локального трафика
iptables -A INPUT -i lo -j ACCEPT

# Разрешение уже установленных соединений
iptables -A INPUT -m conntrack --ctstate ESTABLISHED,RELATED -j ACCEPT

# Разрешение ICMP (ping)
iptables -A INPUT -p icmp --icmp-type echo-request -j ACCEPT

# Разрешение SSH (изменим порт для безопасности)
iptables -A INPUT -p tcp --dport 22222 -j ACCEPT

# Разрешение веб-трафика (HTTP/HTTPS)
iptables -A INPUT -p tcp --dport 80 -j ACCEPT
iptables -A INPUT -p tcp --dport 443 -j ACCEPT

# Блокировка частых попыток подключения (защита от брутфорса)
iptables -A INPUT -p tcp --dport 22222 -m recent --name ssh --set
iptables -A INPUT -p tcp --dport 22222 -m recent --name ssh --update --seconds 60 --hitcount 5 -j DROP
```

#### Защита от DDoS-атак

**Техники защиты от DDoS:**
1. **Ограничение скорости (Rate Limiting)**
   ```bash
   # Ограничение на количество новых соединений
   iptables -A INPUT -p tcp --dport 80 -m connlimit --connlimit-above 50 -j REJECT
   
   # Ограничение по количеству пакетов в секунду
   iptables -A INPUT -p tcp --dport 80 -m limit --limit 50/sec --limit-burst 100 -j ACCEPT
   ```

2. **Син-куки (SYN Cookies)**
   ```bash
   # Включение SYN cookies в ядре Linux
   sysctl -w net.ipv4.tcp_syncookies=1
   ```

3. **Балансировка нагрузки и распределение трафика**
   - Использование CDN (Cloudflare, Akamai)
   - Географическое распределение серверов
   - Автоматическое масштабирование

4. **Анализ трафика и машинное обучение**
   - Выявление аномальных паттернов
   - Автоматическая блокировка подозрительных IP
   - Интеграция с системами обмена угрозами (Threat Intelligence)

#### Защита от сканирования портов

**Обнаружение сканирования портов:**
```bash
# Обнаружение сканирования с использованием psad
# Установка psad
apt install psad

# Настройка psad для мониторинга
# /etc/psad/psad.conf
EMAIL_ADDRS            your@email.com;
HOSTNAME               server.example.com;
ENABLE_AUTO_IDS        Y;
IPTABLES_BLOCK_METHOD  Y;
```

**Реакция на сканирование:**
- Автоматическая блокировка IP-адреса на определенное время
- Уведомление администратора
- Логирование деталей сканирования для последующего анализа
- Интеграция с системами централизованного мониторинга

### Современные технологии сетевой безопасности

#### Zero Trust Architecture

**Принципы Zero Trust:**
- "Никогда не доверяй, всегда проверяй"
- Проверка всех запросов независимо от источника
- Минимизация привилегий (least privilege access)
- Микросегментация сети
- Постоянный мониторинг и аналитика

**Компоненты Zero Trust:**
- **Identity Provider** — централизованная система аутентификации
- **Policy Engine** — система принятия решений о доступе
- **Policy Administrator** — исполнение политик
- **Policy Enforcement Point** — контроль доступа
- **Continuous Diagnostics & Mitigation** — постоянный мониторинг

#### Software-Defined Networking (SDN) и безопасность

**SDN (Software-Defined Networking)** разделяет плоскость управления и плоскость данных:
- **Контроллер SDN** — централизованное управление сетью
- **Коммутаторы с OpenFlow** — выполнение правил
- **Приложения безопасности** — интеграция с системами защиты

**Преимущества SDN для безопасности:**
- Гибкая политика безопасности
- Быстрое реагирование на угрозы
- Автоматизация процессов безопасности
- Централизованная видимость сети

#### Network Function Virtualization (NFV)

**NFV** позволяет запускать сетевые функции (брэндмауэры, балансировщики, IPS) как виртуальные машины или контейнеры:
- Экономия на специализированном оборудовании
- Масштабируемость по требованию
- Быстрое развертывание новых сервисов безопасности
- Интеграция с облачными платформами

### Практические рекомендации по сетевой безопасности

#### Регулярное обновление и патчинг
- Автоматизация процесса обновления
- Тестирование патчей перед внедрением в продакшн
- Ведение инвентаря всех систем и их версий
- Мониторинг уязвимостей (CVE, NVD)

#### Мониторинг и логирование
- Централизованное сбор и анализ логов
- Обнаружение аномалий в реальном времени
- Сохранение логов в соответствии с требованиями

#### Тестирование на проникновение
- Регулярные проверки безопасности внешними аудиторами
- Использование автоматизированных сканеров уязвимостей
- Пентестинг прикладного уровня


## Заключение

- **Глубокая защита (Defense in Depth)** — использование нескольких уровней защиты
- **Минимальные привилегии (Least Privilege)** — предоставление только необходимых прав доступа
- **Безопасность по умолчанию (Secure by Default)** — системы должны быть безопасны без дополнительной настройки
- **Постоянный мониторинг** — безопасность — это процесс, а не разовое действие

---

# SSL и TLS: Защита данных в интернете

---

## 10. SSL/TLS: криптография для защиты данных

### Что такое SSL и TLS?

**SSL (Secure Sockets Layer)** и **TLS (Transport Layer Security)** — это криптографические протоколы, обеспечивающие безопасную передачу данных в интернете. Они создают зашифрованный канал связи между клиентом (браузером, приложением) и сервером, защищая информацию от перехвата и подделки.

#### Историческая справка

| Версия | Год | Описание |
|--------|-----|----------|
| SSL 1.0 | — | Никогда не публиковался из-за серьезных уязвимостей |
| SSL 2.0 | 1995 | Первая публичная версия, содержала критические уязвимости |
| SSL 3.0 | 1996 | Улучшенная версия, но уязвима (атака POODLE) |
| TLS 1.0 | 1999 | Фактически SSL 3.1, переименован по юридическим причинам |
| TLS 1.1 | 2006 | Исправлены уязвимости в обработке CBC-режима |
| TLS 1.2 | 2008 | Современный стандарт с поддержкой современных алгоритмов |
| TLS 1.3 | 2018 | Последняя версия с улучшенной производительностью и безопасностью |

**Важно:** Хотя термин SSL до сих пор используется (например, в сертификатах SSL), современные системы используют преимущественно TLS 1.2 или 1.3.

### Как работает TLS: процесс установления защищенного соединения

#### TLS Handshake (рукопожатие)

Процесс установления защищенного соединения между клиентом и сервером:

**Этапы TLS 1.2 handshake:**

1. **ClientHello** — клиент отправляет поддерживаемые версии TLS, алгоритмы шифрования и случайное число
2. **ServerHello** — сервер выбирает версию протокола, алгоритм шифрования и отправляет свое случайное число
3. **Server Certificate** — сервер отправляет свой цифровой сертификат
4. **Server Key Exchange** (опционально) — дополнительные параметры для обмена ключами
5. **ServerHelloDone** — сервер завершает свою часть handshake
6. **Client Key Exchange** — клиент генерирует предмастер-секрет и шифрует его открытым ключом сервера
7. **Change Cipher Spec** — обе стороны сообщают о переходе на зашифрованное соединение
8. **Finished** — подтверждение завершения handshake

**Этапы TLS 1.3 handshake (оптимизированный):**

1. **ClientHello** — клиент отправляет поддерживаемые параметры и предположение о ключах
2. **ServerHello** — сервер сразу выбирает параметры и отправляет сертификат и ключи
3. **Change Cipher Spec + Finished** — немедленный переход на зашифрованный канал

**Преимущества TLS 1.3:**

- 1 RTT (round-trip time) вместо 2 RTT в TLS 1.2
- Удалены небезопасные алгоритмы (RC4, SHA-1, MD5)
- Обязательное Perfect Forward Secrecy (PFS)
- 0-RTT режим для возобновления сессий

#### Цифровые сертификаты

**Цифровой сертификат** — электронный документ, подтверждающий принадлежность открытого ключа конкретному лицу или организации.

**Структура X.509 сертификата:**

- Версия сертификата
- Серийный номер
- Алгоритм подписи
- Издатель (CA - Certificate Authority)
- Период действия (действителен с/по)
- Субъект (владелец сертификата)
- Открытый ключ субъекта
- Расширения (необязательно)
- Цифровая подпись издателя

**Типы сертификатов:**

- **DV (Domain Validation)** — подтверждение владения доменом
- **OV (Organization Validation)** — подтверждение организации
- **EV (Extended Validation)** — расширенная проверка организации (зеленая строка в браузере)

**Цепочка доверия:**
```
Корневой сертификат (Root CA) → Промежуточный сертификат (Intermediate CA) → Сертификат сервера
```

Для получения бесплатного SSL/TLS сертификата можно использовать Let's Encrypt с автоматической выдачей и обновлением сертификатов.

### Типы шифрования в TLS

#### Симметричное шифрование

**Симметричное шифрование** использует один ключ для шифрования и расшифровки данных. Это самый быстрый метод шифрования, используемый для передачи основных данных после установления соединения.

**Популярные симметричные алгоритмы:**

- **AES (Advanced Encryption Standard)** — современный стандарт с ключами 128, 192 или 256 бит
  - AES-GCM — режим с аутентификацией и шифрованием
  - AES-CBC — режим сцепления блоков (устаревающий)
- **ChaCha20** — современный алгоритм, эффективный на мобильных устройствах
- **3DES (Triple DES)** — устаревший, но еще встречающийся алгоритм
- **RC4** — полностью небезопасный, должен быть отключен

#### Асимметричное шифрование

**Асимметричное шифрование** использует пару ключей: открытый ключ для шифрования и закрытый ключ для расшифровки. Используется для безопасного обмена симметричным ключом.

**Популярные асимметричные алгоритмы:**

- **RSA** — основан на сложности факторизации больших чисел
- **ECC (Elliptic Curve Cryptography)** — основан на эллиптических кривых, обеспечивает ту же безопасность при меньших ключах
  - P-256, P-384, P-521 — стандартные кривые NIST
  - Curve25519, Curve448 — современные кривые с открытым исходным кодом
- **Diffie-Hellman (DH)** — алгоритм безопасного обмена ключами
  - DHE — эфемерные ключи для Perfect Forward Secrecy
  - ECDHE — эфемерные ключи на эллиптических кривых

#### Гибридное шифрование

TLS использует **гибридный подход:**

1. **Асимметричное шифрование** для безопасного обмена данными при установке соединения
2. **Симметричное шифрование** для передачи основных данных после установления соединения

Это обеспечивает баланс между безопасностью и производительностью.

#### Perfect Forward Secrecy (PFS)

**Perfect Forward Secrecy** — критически важная функция безопасности, обеспечивающая, что скомпрометированный долгосрочный ключ не позволит расшифровать ранее записанный трафик.

**Как это работает:**

- Для каждой сессии генерируется уникальный эфемерный (временный) ключ
- Эти ключи уничтожаются после завершения сессии
- Даже если закрытый ключ сервера будет скомпрометирован в будущем, прошлые сессии останутся защищенными

**PFS обеспечивается с помощью:**

- DHE (Ephemeral Diffie-Hellman)
- ECDHE (Elliptic Curve Diffie-Hellman Ephemeral)

### Настройка TLS на сервере

#### Рекомендуемые настройки для современного сервера

**Apache:**
```apache
SSLProtocol -all +TLSv1.2 +TLSv1.3
SSLCipherSuite TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:TLS_AES_128_GCM_SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256
SSLHonorCipherOrder on
SSLCompression off
SSLSessionTickets off
Header always set Strict-Transport-Security "max-age=15552000; includeSubDomains"
```

#### Nginx:
```nginx
ssl_protocols TLSv1.2 TLSv1.3;
ssl_ciphers 'TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:TLS_AES_128_GCM_SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256';
ssl_prefer_server_ciphers on;
ssl_session_cache shared:SSL:10m;
ssl_session_timeout 10m;
ssl_session_tickets off;
add_header Strict-Transport-Security "max-age=15552000; includeSubDomains" always;
```

#### Важные HTTP заголовки безопасности

- **HSTS (HTTP Strict Transport Security)** — принудительное использование HTTPS
- **CSP (Content Security Policy)** — контроль источников загружаемых ресурсов
- **X-Content-Type-Options** — предотвращение MIME-sniffing
- **X-Frame-Options** — защита от clickjacking
- **X-XSS-Protection** — защита от XSS-атак

### Проверка и тестирование конфигурации TLS

#### Инструменты для проверки:

- **SSL Labs (SSL Test)** — https://www.ssllabs.com/ssltest/
- **testssl.sh** — консольный инструмент для тестирования
- **nmap + ssl-enum-ciphers** — сканирование поддерживаемых шифров
- **OpenSSL** — базовые проверки соединения

#### Пример проверки с помощью OpenSSL:
```bash
openssl s_client -connect example.com:443 -servername example.com -tls1_3
```

### Проблемы и уязвимости в TLS/SSL

#### Известные атаки:

- **POODLE** — атака на SSL 3.0 с использованием CBC-режима
- **BEAST** — атака на TLS 1.0 с использованием CBC-режима
- **CRIME** — атака на сжатие TLS
- **HEARTBLEED** — уязвимость в реализации OpenSSL (CVE-2014-0160)
- **FREAK** — принуждение к использованию слабых экспортируемых ключей
- **LOGJAM** — атака на слабые параметры DH

#### Рекомендации по защите:

- Отключите старые версии протокола (SSL 2.0/3.0, TLS 1.0/1.1)
- Отключите небезопасные шифры (RC4, DES, MD5, SHA1)
- Используйте сильные параметры DH (не менее 2048 бит)
- Включите Perfect Forward Secrecy
- Регулярно обновляйте ПО и библиотеки
- Мониторьте логи на предмет подозрительных попыток соединения

### Будущее TLS

#### TLS 1.3 и его преимущества:

- **Ускоренное рукопожатие** — 1 RTT вместо 2 RTT
- **0-RTT данные** — возможность отправки данных в первом же пакете при возобновлении сессии
- **Упрощенная структура** — удалено 50% устаревшего кода
- **Повышенная безопасность** — только современные алгоритмы
- **Улучшенная защита от атак** — устранены уязвимости к известным атакам

#### Постквантовая криптография

С развитием квантовых компьютеров традиционные алгоритмы шифрования могут стать уязвимыми. NIST ведет работу по стандартизации постквантовых алгоритмов:

- **CRYSTALS-Kyber** — для обмена ключами
- **CRYSTALS-Dilithium** — для цифровых подписей
- **SPHINCS+** — для цифровых подписей

Будущие версии TLS будут включать поддержку этих алгоритмов для защиты от квантовых атак.

---

## Заключение

Понимание основ сетевых технологий — фундамент для работы в IT-сфере. От базовых концепций локальных и глобальных сетей до сложных протоколов прикладного уровня и систем безопасности — все эти знания необходимы для построения надежных и эффективных сетевых инфраструктур.

**Основные темы, которые мы рассмотрели:**

- **Архитектура сетей** — понимание принципов работы LAN и WAN, IP-адресации, NAT и DHCP
- **Сетевые устройства** — роутеры, коммутаторы и их роль в сетевой инфраструктуре
- **Протоколы прикладного уровня** — HTTP/HTTPS, DNS, электронная почта, FTP, SSH и их эволюция
- **Сетевая безопасность** — брандмауэры, WAF, защита от DDoS и современные подходы к безопасности
- **Криптография** — SSL/TLS, шифрование данных и защита информации в интернете

Сетевые протоколы и системы безопасности — это сложная, постоянно развивающаяся область. HTTP/2 и HTTP/3 революционизируют веб-коммуникации, DNSSEC и DoH обеспечивают безопасность разрешения имен, а современные брандмауэры и WAF защищают от постоянно эволюционирующих угроз. SSL/TLS обеспечивает фундаментальную безопасность в интернете, защищая конфиденциальность, целостность и аутентификацию данных.